<div class="max-w-2xl mx-auto mt-8">

  <div class="flex justify-between items-center mb-6">
    <h1 class="text-xl font-bold">„ÉÅ„É£„É¨„É≥„Ç∏‰∏ÄË¶ß</h1>

    <%= link_to "Ôºã „ÉÅ„É£„É¨„É≥„Ç∏‰ΩúÊàê",
          new_challenge_path,
          class: "px-4 py-2 bg-orange-500 text-white rounded" %>
  </div>

  <% if @challenges.any? %>
    <div class="space-y-3">
      <% @challenges.each do |challenge| %>
        <div class="border rounded p-4">

          <!-- ‰∏äÊÆµÔºö„Çø„Ç§„Éà„É´ + „É¢„Éº„Éâ -->
          <div class="flex justify-between items-start">
            <div>
              <!-- „Çø„Ç§„Éà„É´ -->
              <h2 class="font-semibold text-base text-gray-800">
                <%= challenge.title %>
              </h2>

              <!-- ‰ΩúÊàêËÄÖ -->
              <p class="text-xs text-gray-500 mt-1">
                ‰ΩúÊàêËÄÖÔºö<%= challenge.user.name %>
              </p>
            </div>

            <span class="text-xs px-2 py-1 rounded
              <%= challenge.solo? ? 'bg-gray-200' : 'bg-orange-100' %>">
              <%= challenge.solo? ? "„ÇΩ„É≠" : "„Éû„É´„ÉÅ" %>
            </span>
          </div>

          <!-- Êó•ÊôÇ -->
          <div class="mt-2 text-sm text-gray-700">
            üìÖ <%= challenge.target_date %>
            ‚è∞ <%= challenge.target_time.strftime("%H:%M") %>
          </div>

          <!-- „Éû„É´„ÉÅÊÉÖÂ†± -->
          <% if challenge.multi? %>
            <div class="text-sm text-gray-600 mt-1">
              ÂèÇÂä†ËÄÖÔºö
              <%= challenge.participations.count %>
              / <%= challenge.capacity %>
            </div>
          <% end %>

          <!-- Ë©≥Á¥∞ -->
          <div class="mt-3 flex justify-end">
            <%= link_to "Ë©≥Á¥∞„ÇíË¶ã„Çã",
                  challenge_path(challenge),
                  class: "text-sm text-orange-600 hover:underline" %>
          </div>

          <!-- ÂâäÈô§„Éú„Çø„É≥ -->
          <% if current_user == challenge.user %>
            <div class="mt-2 flex justify-end">
              <%= link_to "„ÉÅ„É£„É¨„É≥„Ç∏„ÇíÂâäÈô§„Åô„Çã",
                    challenge_path(challenge),
                    data: { turbo_method: :delete, turbo_confirm: "Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü" },
                    class: "text-sm text-red-600 hover:underline" %>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-gray-500">„ÉÅ„É£„É¨„É≥„Ç∏„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>
  <% end %>

</div>